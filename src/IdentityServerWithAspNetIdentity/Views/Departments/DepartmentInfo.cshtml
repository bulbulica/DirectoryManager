@model SingleDepartment
@{
    Layout = "/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = Model.Department.Name;
}

<h1>@ViewData["Title"] - @Model.Department.Description</h1>
<h2>
    @{ if (Model.DepartmentManager != null)
        {
            <a asp-action="EmployeeInfo" asp-controller="Employees" asp-route-id="@Model.DepartmentManager.Id">Department manager: @Model.Department.Name</a>
            } 
        }
        </h2>
<div>
    <hr />
    <div class="row">
        <div class="col-md-6">
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">Name</th>
                    </tr>
                </thead>
                <tbody>
                    @{var employeesList = Model.Department.Employees.ToList();
                        @if (employeesList.Count != 0)
                        {
                            foreach (var employee in employeesList)
                            {
                                <tr>
                                    <td scope="row">
                                        <a asp-action="EmployeeInfo" asp-controller="Employees" asp-route-id="@employee.Id">@employee.Name</a>
                                    </td>
                                </tr>

                            }
                        }
                    }
                </tbody>
            </table>
            <a asp-action="DepartmentEdit" asp-route-id="@Model.Department.Id">Edit this Department</a>
            <br />
            <a asp-action="ManageDepartments">Back to all Departments</a>
        </div>
    </div>
</div>